{"version":3,"sources":["../src sync /^/.//.*/.json$","options_icon_18dp.png","Utils.ts","LineGraph.tsx","Th.tsx","MultiButtonGroup.tsx","DataTable.tsx","CumulativePanel.tsx","NavigationBar.tsx","Place.ts","App.tsx","serviceWorker.ts","index.tsx"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","getLatestDate","dates","length","reduce","a","b","Date","Colors","color","getComputedStyle","document","body","getPropertyValue","goToPlace","dashboardId","geoId","placeType","newUrl","window","location","href","LineGraph","props","inputData","data","entries","date","value","xAxisLabel","dayjs","format","every","item","sortedData","sortBy","width","height","showAxis","interval","Math","round","axisStyle","ill","fontSize","className","style","type","dataKey","stroke","fillOpacity","isAnimationActive","fill","position","y","x","wrapperStyle","zIndex","content","active","title","subtitle","tick","hide","timeSeries","valueString","numeral","typeOf","graphTitle","graphSubtitle","ButtonGroup","items","button","index","buttonEnabledClass","Button","key","onClick","text","DataTable","state","configuration","tableDefaultSortBy","order","chunkIndex","categories","table","chunkSize","chunkedData","changeOrientation","newOrientation","asc","desc","setState","setChunkIndex","this","forEach","header","localStorage","enabled","filteredData","sort","timeSeriesA","keyToTimeSeries","timeSeriesB","latestDateA","latestDateB","valueA","valueB","filter","place","chunk","chunkDataShown","enabledHeaders","tableHeaders","obj","sortArrow","rows","tableRanking","thValues","category","Th","name","subregionType","getSubregionType","placeFullName","parentPlace","textAlign","triggered","deepCopyCategories","find","Table","responsive","totalIndexCount","onIndexChange","React","Component","TableIndexPagination","indexArray","Array","from","slice","push","numberButtons","String","prevButton","nextButton","allButtons","MultiButtonGroup","TableOptions","useState","showOptionsClass","setShowOptionsClass","src","require","alt","marginTop","marginLeft","onChange","marginRight","checked","CumulativePanel","pctWidthPerRow","textToValue","fontWeight","onKeyDown","keyCode","preventDefault","onType","placeholder","Place","placeInfo","containedIn","hasSubregions","setParentPlace","App","placeTypeToShow","places","Content","Configuration","searchQuery","componentDidMount","fetchData","promises","api","fetch","Promise","all","then","dataResponse","placeInfoResponse","json","geoIdToData","geoIdToInfo","timeSeriesData","values","cacheData","forceUpdate","cacheApis","placeTypes","splice","indexOf","cachePromises","responses","response","getParentPlaces","parentPlaces","i","unshift","onSearchInput","debounce","render","selectedPlace","filteredPlaces","cumulativePanelColumns","cumulativePanel","cumulativeStats","toLowerCase","includes","maxDate","formattedDate","pluralPlaceTypes","breadcrumbItems","subregionButtons","subregionSelectionButton","NavigationBar","target","Item","footer","urlParams","URLSearchParams","search","get","getContent","getConfiguration","Boolean","hostname","match","history","createBrowserHistory","ReactDOM","StrictMode","path","component","dashboard","exact","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.69b2e462.chunk.js","sourcesContent":["var map = {\n\t\"./covid19.json\": 376,\n\t\"./poverty.json\": 377\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 149;","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAABk0lEQVR4Ae3XAWQCURzH8eEwHIbhAEMYAoQQYggBhiGEMAQYhmEYYBhgGEIYwhCGEA6HcAiHMBzgMIRwaF+Ec+69/u90e6gvH4i7/di9TmdH06ntduuiX6AHx8agMVS92BgUQtXUxqA1VEX/PcaDrrSKP1rHAp9oZz5vYY59TVHfXeOgiykCeGUGzZAtAuOMSjFCjGwj0zFdVF1DOsbBClUXSAc9wKQ1fMyQwKSeZNAPJCW4K7h+iDUkBZJBj0ihK4anuce1YFSKgfTf1kECVV3BPYZQFaNpetKuECPfwuBwbJAvhHfI99WHwfWLg77nuDhCvrHB9d/INys75hIr5Fsa3CNGPh+u6ZjGnuPfFNzjFqpC1KRjBthAVwRXcw8PCXT94kYyKIGkCE3FezCGJF8y6BXSUvh4x6TEO/BeMugCCapuCUf+HFVf2+SUOQgLHsIAps0LDsmkzPdQKzOij/Pd5z3hsxKik3kMhlgiFh95g7E16Ept/AxKrfwMkr/n7P9Q/IKqNxuDPDwXeIJ7dupY+gOiWcwGBsNd9QAAAABJRU5ErkJggg==\"","/**\n Copyright 2020 Google LLC\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n https://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n */\n\n/**\n * Converts a number to a string including commas for readability.\n * For example, int(10000) would get converted to str(10,000)\n * @param num: the number to replace\n */\nexport const numberWithCommas = (num: number): string => {\n  if (!num) return '0';\n\n  return num.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n};\n\n/**\n * Gets the latest date in the for a a list of Iso-dates.\n * @param: dates: a list of dates in ISO format. Example: \"2020-01-02\".\n */\nexport const getLatestDate = (dates: string[]): string => {\n  if (!dates.length) return '';\n\n  return dates.reduce((a, b) => {\n    return new Date(a) > new Date(b) ? a : b;\n  });\n};\n\n/**\n * Returns the exact color for a given CSS variable.\n * @param color: the variable name of the color.\n */\nexport const Colors = (color: string): string => {\n  const css = getComputedStyle(document.body);\n  return css.getPropertyValue(color) || color;\n};\n\n/**\n * Navigate to a different geoId.\n * @param dashboardId: the id of the dashboard to direct to.\n * @param geoId: the place's geoId we want to view.\n * @param placeType: the types of places we want to view.\n * Example: geoId=country/USA and placeType=County\n * would display all counties in the USA.\n */\nexport const goToPlace = (dashboardId: string, geoId?: string, placeType?: string): void => {\n  let newUrl = `/dashboard/?dashboardId=${dashboardId}`;\n\n  // Redirect to a specific geoId.\n  if (geoId && geoId !== 'World') {\n    newUrl += `&geoId=${geoId}`;\n  } else {\n    // if !geoId or geoId == 'World', redirect to homepage.\n    window.location.href = newUrl;\n    return;\n  }\n\n  // If placeType has been given, redirect to this placeType.\n  if (placeType && geoId) {\n    newUrl += `&placeType=${placeType}`;\n  } else if (!placeType && geoId) {\n    // Otherwise, State is defaulted.\n    newUrl += `&placeType=State`;\n  }\n\n  // Redirect to new url.\n  window.location.href = newUrl;\n};\n\nexport const getContent = (dashboardId: string) => {\n  return require(`./${dashboardId}.json`)?.['content'] || {}\n}\n\nexport const getConfiguration = (dashboardId: string) => {\n  return require(`./${dashboardId}.json`)?.['configuration'] || {}\n}","/**\n Copyright 2020 Google LLC\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n https://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n */\n\nimport React from \"react\";\nimport {Tooltip, XAxis, YAxis, AreaChart, Area} from 'recharts';\nimport sortBy from 'lodash/sortBy'\nimport {Colors} from \"./Utils\";\nimport dayjs from \"dayjs\";\n\ntype LineGraphPropsType = {\n  data: {[date: string]: number},\n  value: string,\n  width?: number,\n  height?: number,\n  color?: string,\n  title?: string,\n  subtitle?: string,\n  showAxis?: boolean,\n  className?: string\n}\n\n/**\n * @param props.data: the timeSeries to display\n * @param props.value: the value to display on top of the graph.\n * @param props.width: the width of the graph.\n * @param props.height: the height of the graph.\n * @param props.color: the color of the graph and text.\n * @param props.title: the graph's title, on-hover.\n * @param props.subtitle: the graph's subtitle, on-hover.\n * @param props.showAxis: should the X and Y axis be displayed?\n * @param props.className: a className that overrides the graph's.\n */\nexport default function LineGraph(props: LineGraphPropsType) {\n  /**\n   * Displays a larger LineGraph when hovering on a small LineGraph.\n   */\n  const customTooltip = ({active}: {active: boolean}) => {\n    // Make sure that the current bar is actively being hovered on.\n    if (active) {\n      return (\n        <div className={\"pop-up shadow\"}>\n          <h6 className={\"title\"}>\n            {props.title}\n          </h6>\n          <h6 className={\"title\"}\n              style={{color: Colors('grey')}}>\n            {props.subtitle}\n          </h6>\n          <LineGraph data={props.data}\n                     className={props.className}\n                     width={400}\n                     height={200}\n                     color={props.color}\n                     showAxis={true}\n                     value={props.value}/>\n        </div>\n      )\n    }\n    return null;\n  };\n\n  const inputData = props.data || {}\n\n  // Convert the data to a list of objects that the graph can understand.\n  const data = Object.entries(inputData).map(([date, value ]) => {\n    // Prettify the date.\n    const prettyDate = dayjs(date).format(\"MMM D 'YY\")\n    return {\n      // The label to display on graph.\n      xAxisLabel: prettyDate,\n      // Real iso formatted date.\n      date: date,\n      // The number for that given date.\n      value: value\n    }\n  })\n\n  // If every value in timeSeries are 0, don't return anything.\n  if (data.every(item => item.value === 0)) {\n    return <></>\n  }\n\n  // Sort the data by date.\n  const sortedData = sortBy(data, ['date'])\n\n  // Color of the graph.\n  const color = Colors(props.color || \"--dc-red-strong\")\n  // Width of the graph.\n  const width = props.width || 125\n  // Height of the graph.\n  const height = props.height || 60\n  // Should the Y and X axis be shown?\n  const showAxis = props.showAxis\n  // Only show axis every n-\"interval\" dates.\n  // Looks cleaner.\n  const interval = Math.round(sortedData.length / 5)\n  // The style of the X-Axis and Y-Axis.\n  const axisStyle = {ill: color, fontSize: 12}\n\n  return (\n    <div className={\"line-graph\"}\n         style={{width: width}}>\n      {props.value &&\n      <h6 className={\"value\"}\n          style={{color: color}}>\n        {props.value}\n      </h6>}\n      <AreaChart className={\"graph \" + props.className}\n                 width={width}\n                 height={height}\n                 data={sortedData}>\n        <Area type=\"monotone\"\n              dataKey=\"value\"\n              stroke={color}\n              fillOpacity={0.4}\n              isAnimationActive={false}\n              fill={color}/>\n        <Tooltip position={{y: -170, x: -170}}\n                 wrapperStyle={{zIndex: 1000}}\n                 content={customTooltip}/>\n        <XAxis tick={axisStyle}\n               dataKey={\"xAxisLabel\"}\n               interval={interval}\n               hide={!showAxis}/>\n        <YAxis type={\"number\"}\n               tick={axisStyle}\n               hide={!showAxis}/>\n      </AreaChart>\n    </div>\n  )\n}","/**\n Copyright 2020 Google LLC\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n https://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n */\n\n\nimport {TimeSeriesType} from \"./Types\";\nimport LineGraph from \"./LineGraph\";\nimport React from \"react\";\nimport {Colors} from './Utils'\nimport numeral from 'numeral'\n\ntype ThPropsType = {\n  timeSeries: TimeSeriesType,\n  typeOf: string,\n  className?: string,\n  graphTitle?: string,\n  graphSubtitle?: string\n  color?: string\n}\n\n/**\n * Displays a value in the Table.\n * @param props.timeSeries: the timeSeries being observed.\n * @param props.typeOf: type of Th to display.\n * @param props.className: className to overwrite style.\n * @param props.graphTitle: if it's a graph, it must contain a title.\n * @param props.graphSubtitle: if it's a graph, it may contain a subtitle.\n * @param props.color: what should the color be? grey by default.\n */\nexport default (props: ThPropsType) => {\n  const timeSeries = props.timeSeries // the timeSeries being observed.\n  const dates = Object.keys(timeSeries)\n  const latestDate = dates[dates.length - 1]\n  const value = timeSeries[latestDate]\n  const valueString = numeral(value).format('0.0a')\n  const color = props.color ? Colors(props.color) : Colors('grey')\n\n  // Depending on the type of Th, display different th.\n  // Numbers should be rounded, but not strings.\n  if (props.typeOf === 'lineGraph') {\n    return (\n      <th>\n        <LineGraph\n          data={timeSeries}\n          className={props.className}\n          title={props.graphTitle}\n          subtitle={props.graphSubtitle}\n          color={color}\n          value={valueString}/>\n      </th>\n    )\n  } else if (props.typeOf === 'number' && value) {\n    return <th>{valueString}</th>\n  } else if (props.typeOf === 'percent' && value) {\n    return <th>{valueString + \"%\"}</th>\n  } else {\n    return <th>{'-'}</th>\n  }\n}","/**\n Copyright 2020 Google LLC\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n https://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n */\n\nimport React from 'react';\nimport Button from 'react-bootstrap/Button';\nimport ButtonGroup from 'react-bootstrap/ButtonGroup';\n\ntype MultiButtonGroup = {\n  items: {active: boolean; onClick: () => void; text: string}[];\n};\n\n/**\n * Button group allowing the user to\n * @param props.items: the list of objects representing the buttons.\n */\nexport default (props: MultiButtonGroup) => {\n  return (\n    <ButtonGroup className={'button-group'}>\n      {props.items.map((button, index) => {\n        // If button is ON or OFF, the styling is different.\n        // If the button is ON, use selected class to style the button.\n        const buttonEnabledClass = button.active ? 'selected' : 'unselected';\n\n        return (\n          <Button\n            className={buttonEnabledClass}\n            key={index}\n            onClick={button.onClick}\n          >\n            {button.text}\n          </Button>\n        );\n      })}\n    </ButtonGroup>\n  );\n};\n","/**\n Copyright 2020 Google LLC\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n https://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n */\n\nimport React, {useState} from 'react';\nimport chunk from 'lodash/chunk';\nimport Place from \"./Place\";\nimport Th from './Th';\nimport MultiButtonGroup from \"./MultiButtonGroup\";\nimport {getLatestDate} from \"./Utils\";\nimport Table from 'react-bootstrap/Table';\n\ntype CategoryType = {title: string,id: string, typeOf: string, color: string, graphSubtitle: string, enabled: boolean}\ntype OrientationType = 'desc' | 'asc';\n\ntype TableStateType = {\n  sortBy: string;\n  order: OrientationType;\n  chunkIndex: number;\n  categories: CategoryType[];\n};\n\ntype TablePropsType = {\n  goToPlace: (geoId?: string, placeType?: string) => void;\n  data: Place[];\n  configuration: any;\n  content: any;\n};\n\n/**\n * The data table with all the essential information.\n * @var state.sortBy: the default sortBy category.\n * @var state.order: display data ascending or descending order\n * @var state.chunkIndex: what chunk of data to display.\n * @param props.data: an object where each key is a geoId\n * and each value contains different timeSeries.\n * The table is divided into pages.\n */\nexport default class DataTable extends React.Component<\n  TablePropsType, TableStateType> {\n  state = {\n    sortBy: this.props.configuration.tableDefaultSortBy as string,\n    order: 'desc' as OrientationType,\n    chunkIndex: 0 as number,\n    categories: this.props.content.table as CategoryType[]\n  };\n\n  chunkSize = 30;\n  chunkedData: Place[][] = [];\n\n  componentDidMount() {\n    // If this is the first time loading the page, store category's status.\n    // This way, when the user moves around the dashboard, the checkboxes\n    // of the headers will be untouched.\n    this.state.categories.forEach(header => {\n      if (localStorage[header.id])\n        header.enabled = localStorage[header.id] === 'true'\n    })\n  }\n\n  /**\n   * Determines what type of arrow display\n   * next to the table's header/category. Or whether none at all.\n   * @param sortBy: the observed header/category.\n   */\n  sortArrow(sortBy: string) {\n    // If the input sortBy is the same as the state's sortBy,\n    // it means we are actively sorting by that header.\n    const active = sortBy === this.state.sortBy;\n\n    if (!active) {\n      return '';\n    } else if (this.state.order === 'desc') {\n      return '▼ ';\n    } else if (this.state.order === 'asc') {\n      return '▲ ';\n    }\n  }\n\n  /**\n   * When triggered, the current sorting orientation will be changed\n   * to the opposite orientation.\n   */\n  changeOrientation = () => {\n    // From ascending to descending.\n    // From descending to ascending.\n    const opposites = {asc: 'desc', desc: 'asc'};\n\n    // Change the current orientation the opposite orientation.\n    const newOrientation = opposites[this.state.order] as OrientationType;\n    this.setState({\n      order: newOrientation,\n    });\n  };\n\n  /**\n   * When tapping on the header, if the sortBy is already active,\n   * then change the orientation, otherwise, change the sortBy\n   * to the newly selected header.\n   * @param sortBy: the header/category to sort the table by.\n   */\n  sortBy(sortBy: string) {\n    const active = this.state.sortBy === sortBy;\n\n    if (active) {\n      this.changeOrientation();\n    } else {\n      this.setState({sortBy: sortBy});\n    }\n\n    // Go back to the first page in the table.\n    this.setState({chunkIndex: 0});\n  }\n\n  /**\n   * Go to a specific page index in the table.\n   * @param chunkIndex: the index to navigate to.\n   * Corresponds to the table's page - 1.\n   */\n  setChunkIndex = (chunkIndex: number) => {\n    // Make sure our table doesn't go out of boundaries.\n    if (chunkIndex >= 0 && chunkIndex < this.chunkedData.length) {\n      this.setState({chunkIndex: chunkIndex});\n    }\n  };\n\n  render() {\n    // Sort the data based on the last date in the timeSeries.\n    const sortedData = this.props.data.sort((a, b) => {\n      const timeSeriesA = a.keyToTimeSeries[this.state.sortBy] || {}\n      const timeSeriesB = b.keyToTimeSeries[this.state.sortBy] || {}\n\n      const latestDateA = getLatestDate(Object.keys(timeSeriesA))\n      const latestDateB = getLatestDate(Object.keys(timeSeriesB))\n\n      const valueA = timeSeriesA[latestDateA] || 0\n      const valueB = timeSeriesB[latestDateB] || 0\n\n      // Descending order\n      if (this.state.order === 'desc') {\n        return valueB - valueA\n      // Ascending order\n      } else {\n        return valueA - valueB\n      }\n    })\n\n    // Filter out any values that are nullish.\n    const filteredData = sortedData.filter(place => {\n      return place.keyToTimeSeries[this.state.sortBy];\n    })\n\n\n    // Chunk the dataset by groups of this.chunkSize.\n    // Each element in the chunk represents a row.\n    // Each chunk contains this.chunkSize rows.\n    this.chunkedData = chunk(filteredData, this.chunkSize);\n\n    // Depending on what page of the table the user is on, display that chunk.\n    // Example: If the user is on page 1, display this.chunkedData[0].\n    const chunkDataShown = this.chunkedData?.[this.state.chunkIndex] || [];\n\n    // Get the header names from Content.\n    // When the header is clicked, change the sorting.\n    const enabledHeaders = this.state.categories.filter(header => header.enabled)\n\n    const tableHeaders = enabledHeaders.map((obj, index) => {\n      // Should the title have an arrow?\n      const title = this.sortArrow(obj.id) + obj.title;\n      return (\n        <th onClick={() => this.sortBy(obj.id)}\n            key={index}>\n          {title}\n        </th>\n      );\n    });\n\n    // Create the data for each row.\n    const rows = chunkDataShown.map((place, index) => {\n      const tableRanking = this.state.chunkIndex * this.chunkSize + index + 1;\n\n      // For every row, generate a Th for each column.\n      const thValues = enabledHeaders.map((category, index) => {\n        // Get the timeSeries for our current column's id.\n        const timeSeries = place.keyToTimeSeries[category.id] || {};\n        return (\n          <Th timeSeries={timeSeries}\n            typeOf={category.typeOf}\n            key={index}\n            graphTitle={place.name}\n            graphSubtitle={category.graphSubtitle}\n            color={category.color}/>\n        );\n      });\n\n      const subregionType = place.getSubregionType()\n\n      // Place's name in the form of \"subregion, region\".\n      // Example: Miami, Florida.\n      let placeFullName = place.name\n      if (place.placeType !== 'Country') {\n        placeFullName += `, ${place.parentPlace?.name}`;\n      }\n\n      return (\n        <tbody key={index}>\n          <tr className={subregionType ? 'clickable' : ''}\n              {...(subregionType && {\n                onClick: () => this.props.goToPlace(place.geoId, subregionType)})}>\n            <th>{tableRanking}</th>\n            <th>{placeFullName}</th>\n            {thValues}\n          </tr>\n        </tbody>\n      );\n    });\n\n    const content = this.state.categories.map(obj => {\n      return {id: obj.id, title: obj.title, enabled: obj.enabled}\n    })\n\n    return (\n      <>\n        <div style={{textAlign: \"left\"}}>\n          <TableOptions content={content} triggered={(id: string) => {\n            // We will store this in State, so make a deep copy.\n            const deepCopyCategories = [...this.state.categories]\n            // Find the header that matches the id.\n            const header = deepCopyCategories.find(header => header.id === id)\n            if (header) {\n              // Store it in localStorage so that we can move around pages.\n              // Every time the user changes the header, update the localStorage.\n\n              // Current enabled status.\n              const enabled = localStorage[header.id] === 'true'\n\n              // Negate the enabled status.\n              // When onClick -> ON or OFF.\n              header.enabled = !enabled\n              localStorage[header.id] = !enabled\n\n              // Update the header selection in State.\n              this.setState({categories: deepCopyCategories})\n            }\n          }}/>\n        </div>\n        <Table responsive=\"l\">\n          <thead>\n          <tr>\n            <th>#</th>\n            <th>Name</th>\n            {tableHeaders}\n          </tr>\n          </thead>\n          {rows}\n        </Table>\n        <TableIndexPagination\n          index={this.state.chunkIndex}\n          totalIndexCount={this.chunkedData.length}\n          onIndexChange={this.setChunkIndex}\n        />\n      </>\n    );\n  }\n}\n\n\ntype TableIndexPaginationPropsType = {\n  index: number;\n  totalIndexCount: number;\n  onIndexChange: (index: number) => void;\n};\n\n\n/**\n * Component that displays pagination buttons below the Table.\n * @param props.index: active page.\n * @param props.totalIndexCount: total amount of pages.\n * @param props.onIndexChange: what should happen when the user changes page.\n */\nconst TableIndexPagination = (props: TableIndexPaginationPropsType) => {\n  const MAX_THRESHOLD = 5; // The maximum amount of buttons to display.\n  const totalIndexCount = props.totalIndexCount; // How many pages are there?\n\n  // Create an array from 0 to totalIndexCount.\n  let indexArray = Array.from(Array(totalIndexCount).keys());\n\n  // If there are more pages than our MAX_THRESHOLD.\n  // Slice the array and push the last number in the array.\n  // We don't wanna show 100 buttons.\n  // Example: [0, 1, 2, 3, 4, 100]\n  if (props.totalIndexCount > MAX_THRESHOLD) {\n    indexArray = indexArray.slice(0, MAX_THRESHOLD);\n    indexArray.push(props.totalIndexCount - 1);\n  }\n\n  // For every index in the array, create a button.\n  // When clicked, the button will change the index + 1.\n  const numberButtons = indexArray.map(index => {\n    return {\n      active: props.index === index,\n      text: String(index + 1),\n      onClick: () => props.onIndexChange(index),\n    };\n  });\n\n  // Previous button object.\n  const prevButton = {\n    active: props.index !== 0,\n    text: 'Previous',\n    onClick: () => props.onIndexChange(props.index - 1),\n  };\n\n  // Next button object.\n  const nextButton = {\n    active: props.index !== props.totalIndexCount,\n    text: 'Next',\n    onClick: () => props.onIndexChange(props.index + 1),\n  };\n\n  // Example: Previous 1 2 3 4 Next\n  const allButtons = [prevButton, ...numberButtons, nextButton];\n\n  return <MultiButtonGroup items={allButtons} />;\n};\n\ntype HeaderType = {title: string, id: string, enabled: boolean}\ntype TableOptionsPropsType = {\n  content: HeaderType[],\n  triggered: (id: string) => void\n}\n\nconst TableOptions = (props: TableOptionsPropsType) => {\n  // if \"show\" class, the menu will be displayed.\n  // if \"\" class, no menu will be shown.\n  const [showOptionsClass, setShowOptionsClass] = useState(\"\");\n\n  return (\n    <div className=\"btn-group-vertical\">\n      <label className={\"btn btn-secondary options\"} onClick={() => {\n        // Logic for displaying options panel.\n        setShowOptionsClass(showOptionsClass ? \"\" : \"show\")}\n      }>\n        <img src={require(\"./options_icon_18dp.png\")}\n             alt=\"Options\"\n             className={\"icon-in-button\"}/>\n        {\"Statistical Variables\"}\n      </label>\n      <div className={`dropdown-menu shadow ${showOptionsClass}`}\n           style={{width: 300, marginTop: -10, marginLeft: -1}}>\n        {\n          props.content.map(({title, id, enabled}: HeaderType) => {\n            return (\n              <div style={{textAlign: \"left\"}} key={id}>\n                <label className={'btn'}>\n                  <input type=\"checkbox\"\n                         onChange={() => props.triggered(id)}\n                         style={{marginRight: 5}}\n                         checked={enabled}/>\n                  {title}\n                </label>\n              </div>\n            )})\n        }\n      </div>\n    </div>\n  )\n}\n","/**\n Copyright 2020 Google LLC\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n https://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n */\n\nimport React from 'react';\nimport {Colors} from './Utils';\nimport numeral from 'numeral'\n\ntype CountPanelPropsType = {\n  textToValue: {title: string; value: number; color?: string}[];\n};\nexport default function CumulativePanel(props: CountPanelPropsType) {\n  const totalRows = Object.keys(props.textToValue).length;\n  const pctWidthPerRow = 100 / totalRows + '%';\n\n  return (\n    <div className={'panel count-panel'}>\n      {props.textToValue.map((obj, index) => {\n        const title = obj.title;\n\n        // If value is nullish (including 0), display a dash.\n        let value = \"-\"\n        if (obj.value) {\n          value = numeral(obj.value).format('0.0a')\n        }\n\n        const color = obj.color ? Colors(obj.color) : 'grey';\n        return (\n          <div className={'column'} key={index} style={{width: pctWidthPerRow}}>\n            <h6 style={{color: color, fontWeight: 'bold'}}>{title}</h6>\n            <h5 style={{color: color}}>{value}</h5>\n          </div>\n        );\n      })}\n    </div>\n  );\n}","/**\n Copyright 2020 Google LLC\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n https://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n */\n\nimport './navigationbar.scss'\nimport React, {ChangeEvent} from \"react\";\n\ntype HeaderPropsType = {\n  title: string,\n  subtitle: string,\n  onType: (event: ChangeEvent) => void\n}\n\n/**\n * The navigation header shown on top of the page.\n * @param props.title: the title of the page.\n * @param props.subtitle: the subtitle of the page.\n * @param props.onSearchInput: callback for when the user types on search bar.\n */\nexport default (props: HeaderPropsType) => (\n  <header id=\"main-header\">\n    <nav className=\"navbar navbar-dark navbar-expand-lg col\"\n         id=\"main-nav\">\n      <div className=\"container-fluid\">\n        <div className=\"navbar-brand\">\n          <a href={\"https://datacommons.org/\"}>\n            {props.title}\n          </a>\n          <span> {props.subtitle}</span>\n        </div>\n        <form className=\"form-inline\">\n          <a className=\"nav-link\" href={\"/dashboard/?dashboardId=covid19\"}>COVID-19</a>\n          <a className=\"nav-link\" href={\"/dashboard/?dashboardId=poverty\"}>Social Wellness</a>\n          <input className=\"form-control mr-sm ml-4\"\n                 type=\"text\"\n                 onKeyDown={\n                   // Prevents re-load of page when on-enter.\n                   (e) => {\n                   if (e.keyCode === 13) e.preventDefault()\n                 }}\n                 onChange={props.onType}\n                 placeholder={\"Search for Place\"}/>\n        </form>\n      </div>\n    </nav>\n  </header>\n)","import {KeyToTimeSeriesType, PlaceInfoType} from \"./Types\";\n\n/**\n * Class that represents a given place in the World.\n * This place holds metadata and timeSeries data.\n */\nexport default class Place {\n  // The identifier of the Place.\n  // Example: geoId/12000\n  geoId: string;\n  // The name of the Place.\n  // Example: \"Florida\"\n  name: string;\n  // The geoId of the parent Place.\n  // Example: geoId/12000 is containedIn geoId/12\n  containedIn: string;\n  // A reference to the Place object of 'containedIn'.\n  parentPlace: Place | null;\n  // The type of Place. Example: \"County\".\n  placeType: string;\n  // An object where stat_var->date->value.\n  // Can contains multiple stat_vars.\n  keyToTimeSeries: KeyToTimeSeriesType;\n  constructor (geoId: string,\n               placeInfo: PlaceInfoType,\n               keyToTimeSeries: KeyToTimeSeriesType) {\n    this.geoId = geoId\n    this.name = placeInfo.name\n    this.containedIn = placeInfo.containedIn\n    this.parentPlace = null;\n    this.placeType = placeInfo.placeType\n    this.keyToTimeSeries = keyToTimeSeries\n  }\n\n  /**\n   * Returns a boolean representing whether the place holds any subregions.\n   */\n  private hasSubregions = (): boolean => {\n    return this.placeType === 'State' || this.geoId === 'country/USA'\n  }\n\n  /**\n   * Returns what placeType this place holds as a subregion.\n   * For example: Country has State as a subregion.\n   * If this place doesn't have any subregions, return \"\".\n   * Example: if Place is a County, return \"\".\n   */\n  getSubregionType = (): string => {\n    const hasSubregions = this.hasSubregions()\n    const subregions: {[region: string]: string} = {\n      \"World\": \"Country\",\n      \"Country\": \"State\",\n      \"State\": \"County\"\n    }\n\n    // If the place has subregions, then return the type of subregion.\n    // Example: \"Country\" has \"State\" subregion.\n    // Example: \"State\" has \"County\" subregion.\n    if (hasSubregions) {\n      return subregions[this.placeType];\n    } else {\n      return \"\"\n    }\n  }\n\n  /**\n   * Sets the pointer to the object of the parent place.\n   * A parent place is a Place in which this place belongs to.\n   * Example: The parent place of San Francisco is California.\n   * @param parentPlace\n   */\n  setParentPlace = (parentPlace: Place): void => {\n    this.parentPlace = parentPlace\n  }\n}","/**\n Copyright 2020 Google LLC\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n https://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n */\n\nimport React from 'react';\nimport DataTable from './DataTable';\nimport MultiButtonGroup from './MultiButtonGroup';\nimport CumulativePanel from './CumulativePanel';\nimport NavigationBar from './NavigationBar';\nimport {getConfiguration, getContent, getLatestDate, goToPlace} from './Utils';\nimport './index.css';\nimport '../node_modules/bootstrap/dist/css/bootstrap.min.css';\nimport {GeoIdToDataType, GeoIdToPlaceInfoType, KeyToTimeSeriesType} from './Types';\nimport debounce from 'lodash/debounce';\nimport Breadcrumb from 'react-bootstrap/cjs/Breadcrumb';\nimport Place from './Place';\nimport dayjs from 'dayjs';\n\ntype AppPropsType = {\n  location: any;\n};\n\ntype AppStateType = {\n  // When searching, this value gets updated.\n  searchQuery: string;\n};\n\n\nclass App extends React.Component<AppPropsType, AppStateType> {\n  // The geoId we are currently observing. Default is World.\n  geoId: string;\n\n  // The place type we are currently observing. Default is Country.\n  // Can be \"Country\", \"State\" or \"County.\n  placeTypeToShow: string;\n\n  // Every geoId contains a Place object.\n  // The place object has information such as name, containedIn and data.\n  places: {[geoId: string]: Place};\n\n  dashboardId: string;\n  Content: any;\n  Configuration: any;\n\n  state = {\n    searchQuery: '',\n  };\n\n  constructor(props: AppPropsType) {\n    super(props);\n    const urlParams = new URLSearchParams(this.props.location.search);\n    this.geoId = urlParams.get('geoId') || 'World';\n    this.placeTypeToShow = urlParams.get('placeType') || 'Country';\n    this.places = {};\n\n    this.dashboardId = urlParams.get('dashboardId') || 'covid19'\n    this.Content = getContent(this.dashboardId)\n    this.Configuration = getConfiguration(this.dashboardId)\n  }\n\n  /**\n   * On page load, fetch all places and timeSeries data in parallel.\n   */\n  componentDidMount = () => {\n    this.fetchData();\n  };\n\n  /**\n   * Fetches placeTypeToShow's data from APIs including /api/places\n   * which contains a place's info such as name and containedIn.\n   * Stores an object where each geoId maps to\n   * a set of keys containing the data.\n   */\n  fetchData = (): void => {\n    // Contains the data for placeTypeToShow\n    const apis = [\n      // contains data\n      `data/${this.placeTypeToShow}?dashboardId=${this.dashboardId}`,\n      // contains place information\n      'places',\n    ];\n\n    const promises = apis.map(api => fetch(`/api/${api}`));\n\n    Promise.all(promises).then(([dataResponse, placeInfoResponse]) => {\n      // Get the stat_var data as a dictionary: geoId->stat_var->date->value.\n      dataResponse.json().then((geoIdToData: GeoIdToDataType) => {\n        // Get the placeInfo as an object.\n        // geoId->{name, containedIn, placeType}.\n        placeInfoResponse.json().then((geoIdToInfo: GeoIdToPlaceInfoType) => {\n          // Create the Place object and store it under places.\n          Object.keys(geoIdToInfo).forEach(geoId => {\n            const placeInfo = geoIdToInfo[geoId];\n            const timeSeriesData = geoIdToData?.[geoId] || {};\n            this.places[geoId] = new Place(geoId, placeInfo, timeSeriesData);\n          });\n\n          Object.values(this.places).forEach(place => {\n            const containedIn = place.containedIn;\n            const parentPlace = this.places[containedIn];\n            place.setParentPlace(parentPlace);\n          });\n\n          // Download the rest of the data once all placeInfo\n          // has been stored.\n          this.cacheData();\n\n          // Re-render page to display data.\n          this.forceUpdate();\n        });\n      });\n    });\n  };\n\n  /**\n   * Downloads all timeSeries data for all places\n   * except this.placeTypeToView and caches it locally.\n   * This is done for speed.\n   */\n  cacheData = (): void => {\n    const cacheApis: string[] = this.Configuration.placeTypes;\n    // Delete this.placeTypeToShow from the array since\n    // since it is already being requested by fetch data.\n    cacheApis.splice(cacheApis.indexOf(this.placeTypeToShow), 1);\n\n    const cachePromises = cacheApis.map(api => {\n      return fetch(`/api/data/${api}?dashboardId=${this.dashboardId}`);\n    });\n\n    // We don't really care about this data, we only wanted to cache it.\n    // Nonetheless, we still store it because\n    // it can help when using the search bar.\n    Promise.all(cachePromises).then(responses => {\n      responses.forEach(response => {\n        response.json().then(json => {\n          Object.entries(json).forEach(([geoId, value]) => {\n            if (geoId in this.places) {\n              // Store the timeSeries data for the geoId.\n              this.places[geoId].keyToTimeSeries = value as KeyToTimeSeriesType\n            }\n          })\n        })\n      })\n    });\n  };\n\n  /**\n   * Get the parent places of the current geoId.\n   * For example, ['World', 'US', 'Florida', 'Miami-Dade County']\n   * would be the parent places for 'Miami-Dade County'.\n   *\n   * Note: The geoId is also returned in the list at the last index.\n   */\n  getParentPlaces = (): string[] => {\n    // If none of the places have loaded yet, exit out.\n    if (!Object.keys(this.places).length) return [];\n\n    // Starting geoId.\n    let geoId = this.geoId;\n\n    // List of all parent places.\n    const parentPlaces: string[] = [];\n\n    // There can only be \"World\", \"Country\", \"States\", \"County\".\n    // So our iteration shouldn't go above our placesTypes length.\n    // If it does, there is an issue and break out of loop.\n    for (let i = 0; i <= this.Configuration.placeTypes.length; i++) {\n      // If we've reached the highest-level place, break out.\n      if (!geoId) break;\n\n      const place = this.places[geoId];\n      // Add geoId to list.\n      parentPlaces.unshift(geoId);\n      // Travel up to parent geoId.\n      // Repeat step.\n      geoId = place?.containedIn;\n    }\n\n    return parentPlaces;\n  };\n\n  /**\n   * When the user searches on the search bar\n   * searchQuery is updated in real-time.\n   * debounce is used to only trigger a one setState every 250ms.\n   * @param value: contains the text the user inputted.\n   */\n  onSearchInput = debounce((value: string): void => {\n    this.setState({searchQuery: value});\n  }, 250);\n\n  render = () => {\n    // The current Place we are viewing.\n    const selectedPlace = this.places[this.geoId];\n\n    // Convert the object of geoId->Place to a list of Places.\n    const places: Place[] = Object.values(this.places).filter(place => {\n      return place.keyToTimeSeries;\n    });\n\n    // Filter the data to only contain the places that are contained\n    // in this.geoId. That is, if this.geoId === \"Florida\".\n    // Only show those places that are contained in Florida.\n    let filteredPlaces = places.filter(place => {\n      // If the selected geoId === 'country/USA', then filter by placeType.\n      // Otherwise filter by places containedIn this.geoId.\n      if (this.geoId === 'country/USA') {\n        return place.placeType === this.placeTypeToShow;\n      } else {\n        return place.containedIn === this.geoId;\n      }\n    });\n\n    // Generate the cumulativePanel columns from Content.\n    const cumulativePanelColumns = this.Content.cumulativePanel.map(\n      ({\n         dataKey,\n         title,\n         color,\n       }: {\n        dataKey: string;\n        title: string;\n        color: string;\n      }) => {\n        // Sum values for all geoIds for the latest date in the time-series.\n        const values = filteredPlaces.map(place => {\n          // Get the time-series for the given dataKey.\n          // The dataKey comes from the configuration panel.\n          // It tells the panel what data to display.\n          const cumulativeStats = place.keyToTimeSeries[dataKey] || {};\n          // Get a list of all dates.\n          const dates = Object.keys(cumulativeStats);\n          const latestDate = getLatestDate(dates);\n          // Return the value for the latest date in the timeSeries.\n          return cumulativeStats[latestDate] || 0;\n        });\n\n        // Sum up all the values for that specific dataKey.\n        const value = values.reduce((a, b) => a + b, 0);\n\n        // Return an object containing the configuration that column.\n        return {\n          title: title,\n          color: color,\n          value: value,\n        };\n      }\n    );\n\n    // If the user entered something on the search bar.\n    // Automatically filter by searchQuery.\n    // Otherwise, omit this step.\n    if (this.state.searchQuery) {\n      filteredPlaces = places.filter(place => {\n        const placeName = (place.name + place.parentPlace?.name).toLowerCase();\n        return placeName.includes(this.state.searchQuery);\n      });\n    }\n\n    // Get the parent geoIds of this geoId.\n    // Example: parent places of Florida: [\"World\", \"US\", \"Florida\"].\n    const parentPlaces = this.getParentPlaces();\n\n    // Get the latest date for all places.\n    const dates = places\n      .map(place => {\n        const keyToTimeSeries = place.keyToTimeSeries[this.Configuration.tableDefaultSortBy] || {};\n        // Config.defaultKey contains our reference key for dates.\n        // AKA, what is our most complete dataset? We want to get the date\n        // from that dataset.\n        const dates = Object.keys(keyToTimeSeries);\n        return getLatestDate(dates);\n      })\n      .filter(date => date);\n\n    // From all the latest dates, calculate the latest date.\n    // This will tell us the actual date.\n    // Example: If Spain was updated August 17 and the US on August 18,\n    // Our latest date will be \"August 18\" because, that's the most recent date.\n    const maxDate = getLatestDate(dates);\n\n    // Format maxDate into a more readable version.\n    // Only format the date, if maxDate is valid.\n    let formattedDate = '';\n    if (maxDate) {\n      formattedDate = dayjs(maxDate).format('MMM D, YYYY');\n    }\n\n    // Text describing the types of places viewing viewed.\n    // \"Countries in\", \"States in\", \"Counties in\".\n    const pluralPlaceTypes: {[key: string]: string} = this.Configuration.pluralPlaceTypes;\n    let subtitle = '';\n\n    // If placeName is \"\" or undefined, don't display a subtitle.\n    // It means hasn't finished loading.\n    if (selectedPlace?.name) {\n      const pluralPlaceType = pluralPlaceTypes[this.placeTypeToShow];\n      // \"Counties in Florida\", \"Countries in World\"...\n      subtitle = pluralPlaceType + ' in ' + selectedPlace.name;\n    }\n\n    // Update the site's HTML title to include the subtitle.\n    document.title = `${subtitle} - Data Commons ${this.Configuration.subtitle}`;\n\n    // Iterate through parent places and create an item for each place.\n    // Example: World -> United States -> Florida\n    const breadcrumbItems = parentPlaces.map(geoId => {\n      return {\n        // Is the item active?\n        active: this.geoId === geoId,\n        // What should happen when you click on it?\n        onClick: () => goToPlace(this.dashboardId, geoId),\n        // name of the place\n        text: this.places[geoId]?.name,\n      };\n    });\n\n    // Subregion button that is displayed when viewing country/USA.\n    // \"Compare States\" and \"Compare Counties\".\n\n    const subregionSelectionButton: {id: string, text: string}[]\n      = this.Configuration.subregionSelectionButton\n\n    const subregionButtons = subregionSelectionButton.map(button => {\n      const placeType = button.id;\n      // What should happen when a user clicks on the button.\n      const onClick = () => goToPlace(this.dashboardId, this.geoId, placeType);\n      return {\n        // Is the button currently ON?\n        active: this.placeTypeToShow === button.id,\n        // What should happen when you click on it?\n        onClick: onClick,\n        // Text to display on button.\n        text: button.text,\n      };\n    });\n    return (\n      <div>\n        <NavigationBar\n          title={'Data Commons'}\n          subtitle={this.Configuration.subtitle}\n          onType={e => {\n            // Get the value and convert it to lowercase.\n            const target = e.target as HTMLTextAreaElement;\n            const value = target.value.toLowerCase();\n            this.onSearchInput(value);\n          }}\n        />\n        <div className={'site-container fadeIn'}>\n          <div className={'header'}>\n            <h6>{formattedDate}</h6>\n            {\n              // Only display the breadcrumb if not in World view.\n              this.geoId !== 'World' && (\n                <Breadcrumb className={'breadcrumb-mod'}>\n                  {breadcrumbItems.map((item, i) => {\n                    return (\n                      <Breadcrumb.Item\n                        href=\"#\"\n                        key={i}\n                        active={item.active}\n                        onClick={item.onClick}>\n                        {item.text}\n                      </Breadcrumb.Item>\n                    );\n                  })}\n                </Breadcrumb>\n              )\n            }\n            <h2 className={'title'}>{subtitle || <br />}</h2>\n            {\n              // Only display multi-button group if on US.\n              this.geoId === 'country/USA' && (\n                <MultiButtonGroup items={subregionButtons} />\n              )\n            }\n          </div>\n          <CumulativePanel textToValue={cumulativePanelColumns} />\n          <div className={'content'}>\n            <DataTable goToPlace={(geoId?: string, placeType?: string) => {goToPlace(this.dashboardId, geoId, placeType)}} data={filteredPlaces} configuration={this.Configuration} content={this.Content}/>\n          </div>\n          <footer>{this.Configuration.footer}</footer>\n        </div>\n      </div>\n    );\n  };\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","/**\n Copyright 2020 Google LLC\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n https://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n */\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport dashboard from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { Route, Router } from 'react-router-dom';\nimport { createBrowserHistory } from 'history';\n\nconst history = createBrowserHistory()\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router history={history}>\n      <Route path={\"/:geoId\"} component={dashboard}/>\n      <Route exact path={\"/\"} component={dashboard}/>\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}